!function(e){"function"==typeof define&&define.amd?define("inputmask",["inputmask.dependencyLib"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib")):e(window.dependencyLib||jQuery)}((function(e){function t(i,a){return this instanceof t?(e.isPlainObject(i)?a=i:(a=a||{}).alias=i,this.el=void 0,this.opts=e.extend(!0,{},this.defaults,a),this.maskset=void 0,this.noMasksCache=a&&void 0!==a.definitions,this.userOptions=a||{},this.events={},this.dataAttribute="data-inputmask",this.isRTL=this.opts.numericInput,void n(this.opts.alias,a,this.opts)):new t(i,a)}function n(t,i,a){var o=a.aliases[t];return o?(o.alias&&n(o.alias,void 0,a),e.extend(!0,a,o),e.extend(!0,a,i),!0):(null===a.mask&&(a.mask=t),!1)}function i(n,i){function a(n,a,o){if(null!==n&&""!==n){if(1===n.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var r="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;n=o.groupmarker.start+n+o.groupmarker.end+o.quantifiermarker.start+r+","+o.repeat+o.quantifiermarker.end}var s;return void 0===t.prototype.masksCache[n]||!0===i?(s={mask:n,maskToken:t.prototype.analyseMask(n,o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a,maskLength:void 0},!0!==i&&(t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]=s,s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]))):s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]),s}}var o;if(e.isFunction(n.mask)&&(n.mask=n.mask(n)),e.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var r=n.groupmarker.start;return e.each(n.numericInput?n.mask.reverse():n.mask,(function(t,i){r.length>1&&(r+=n.groupmarker.end+n.alternatormarker+n.groupmarker.start),r+=void 0===i.mask||e.isFunction(i.mask)?i:i.mask})),a(r+=n.groupmarker.end,n.mask,n)}n.mask=n.mask.pop()}return n.mask&&(o=void 0===n.mask.mask||e.isFunction(n.mask.mask)?a(n.mask,n.mask,n):a(n.mask.mask,n.mask,n)),o}function a(n,i,o){function u(e,t,n){t=t||0;var i,a,r,s=[],l=0,c=p();-1===(U=void 0!==Q?Q.maxLength:void 0)&&(U=void 0);do{!0===e&&d().validPositions[l]?(a=(r=d().validPositions[l]).match,i=r.locator.slice(),s.push(!0===n?r.input:!1===n?a.nativeDef:j(l,a))):(a=(r=m(l,i,l-1)).match,i=r.locator.slice(),(!1===o.jitMasking||l<c||"number"==typeof o.jitMasking&&isFinite(o.jitMasking)&&o.jitMasking>l)&&s.push(!1===n?a.nativeDef:j(l,a))),l++}while((void 0===U||l<U)&&(null!==a.fn||""!==a.def)||t>l);return""===s[s.length-1]&&s.pop(),d().maskLength=l+1,s}function d(){return i}function f(e){var t=d();t.buffer=void 0,!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function p(e,t,n){var i=-1,a=-1,o=n||d().validPositions;for(var r in void 0===e&&(e=-1),o){var s=parseInt(r);o[s]&&(t||null!==o[s].match.fn)&&(s<=e&&(i=s),s>=e&&(a=s))}return-1!==i&&e-i>1||a<e?i:a}function v(t,n,i,a){function r(e){var t=d().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=d().validPositions[e-1],i=d().validPositions[e+1];return void 0!==n&&void 0!==i}return!1}var s,l=t,c=e.extend(!0,{},d().validPositions),u=!1;for(d().p=t,s=n-1;s>=l;s--)void 0!==d().validPositions[s]&&(!0!==i&&(!d().validPositions[s].match.optionality&&r(s)||!1===o.canClearPosition(d(),s,p(),a,o))||delete d().validPositions[s]);for(f(!0),s=l+1;s<=p();){for(;void 0!==d().validPositions[l];)l++;if(s<l&&(s=l+1),void 0===d().validPositions[s]&&A(s))s++;else{var v=m(s);!1===u&&c[l]&&c[l].match.def===v.match.def?(d().validPositions[l]=e.extend(!0,{},c[l]),d().validPositions[l].input=v.input,delete d().validPositions[s],s++):g(l,v.match.def)?!1!==_(l,v.input||j(s),!0)&&(delete d().validPositions[s],s++,u=!0):A(s)||(s++,l--),l++}}f(!0)}function h(e,t){for(var n,i=e,a=p(),r=d().validPositions[a]||y(0)[0],s=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],l=0;l<i.length&&(!((n=i[l]).match&&(o.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===r.alternation||r.alternation!==n.alternation||void 0!==n.locator[r.alternation]&&w(n.locator[r.alternation].toString().split(","),s)))||!0===t&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function m(e,t,n){return d().validPositions[e]||h(y(e,t?t.slice():t,n))}function k(e){return d().validPositions[e]?d().validPositions[e]:y(e)[0]}function g(e,t){for(var n=!1,i=y(e),a=0;a<i.length;a++)if(i[a].match&&i[a].match.def===t){n=!0;break}return n}function y(t,n,i){function a(n,i,r,l){function c(r,l,u){function p(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,(function(e,a){if(!0===a.isQuantifier&&(i=p(t,n.matches[e-1])))return!1})),i}function h(t,n,i){var a,o;return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],(function(e,t){var r=void 0!==i?i:t.alternation,s=void 0!==t.locator[r]?t.locator[r].toString().indexOf(n):-1;(void 0===o||s<o)&&-1!==s&&(a=t,o=s)})),a?a.locator.slice((void 0!==i?i:a.alternation)+1):void 0!==i?h(t,n):void 0}if(f>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(f===t&&void 0===r.matches)return v.push({match:r,locator:l.reverse(),cd:k}),!0;if(void 0!==r.matches){if(r.isGroup&&u!==r){if(r=c(n.matches[e.inArray(r,n.matches)+1],l))return!0}else if(r.isOptional){var g=r;if(r=a(r,i,l,u)){if(!p(s=v[v.length-1].match,g))return!0;m=!0,f=t}}else if(r.isAlternator){var y,b=r,P=[],E=v.slice(),C=l.length,w=i.length>0?i.shift():-1;if(-1===w||"string"==typeof w){var _,A=f,x=i.slice(),M=[];if("string"==typeof w)M=w.split(",");else for(_=0;_<b.matches.length;_++)M.push(_);for(var O=0;O<M.length;O++){if(_=parseInt(M[O]),v=[],i=h(f,_,C)||x.slice(),!0!==(r=c(b.matches[_]||n.matches[_],[_].concat(l),u)||r)&&void 0!==r&&M[M.length-1]<b.matches.length){var S=e.inArray(r,n.matches)+1;n.matches.length>S&&((r=c(n.matches[S],[S].concat(l.slice(1,l.length)),u))&&(M.push(S.toString()),e.each(v,(function(e,t){t.alternation=l.length-1}))))}y=v.slice(),f=A,v=[];for(var j=0;j<y.length;j++){var D=y[j],T=!1;D.alternation=D.alternation||C;for(var I=0;I<P.length;I++){var G=P[I];if(("string"!=typeof w||-1!==e.inArray(D.locator[D.alternation].toString(),M))&&(D.match.def===G.match.def||(R=G,null===(N=D).match.fn&&null!==R.match.fn&&R.match.fn.test(N.match.def,d(),t,!1,o,!1)))){T=D.match.nativeDef===G.match.nativeDef,D.alternation==G.alternation&&-1===G.locator[G.alternation].toString().indexOf(D.locator[D.alternation])&&(G.locator[G.alternation]=G.locator[G.alternation]+","+D.locator[D.alternation],G.alternation=D.alternation,null==D.match.fn&&(G.na=G.na||D.locator[D.alternation].toString(),-1===G.na.indexOf(D.locator[D.alternation])&&(G.na=G.na+","+D.locator[D.alternation])));break}}T||P.push(D)}}"string"==typeof w&&(P=e.map(P,(function(t,n){if(isFinite(n)){var i=t.alternation,a=t.locator[i].toString().split(",");t.locator[i]=void 0,t.alternation=void 0;for(var o=0;o<a.length;o++)-1!==e.inArray(a[o],M)&&(void 0!==t.locator[i]?(t.locator[i]+=",",t.locator[i]+=a[o]):t.locator[i]=parseInt(a[o]),t.alternation=i);if(void 0!==t.locator[i])return t}}))),v=E.concat(P),f=t,m=v.length>0,i=x.slice()}else r=c(b.matches[w]||n.matches[w],[w].concat(l),u);if(r)return!0}else if(r.isQuantifier&&u!==n.matches[e.inArray(r,n.matches)-1])for(var L=r,B=i.length>0?i.shift():0;B<(isNaN(L.quantifier.max)?B+1:L.quantifier.max)&&f<=t;B++){var F=n.matches[e.inArray(L,n.matches)-1];if(r=c(F,[B].concat(l),F)){if((s=v[v.length-1].match).optionalQuantifier=B>L.quantifier.min-1,p(s,F)){if(B>L.quantifier.min-1){m=!0,f=t;break}return!0}return!0}}else if(r=a(r,i,l,u))return!0}else f++;var N,R}for(var u=i.length>0?i.shift():0;u<n.matches.length;u++)if(!0!==n.matches[u].isQuantifier){var p=c(n.matches[u],[u].concat(r),l);if(p&&f===t)return p;if(f>t)break}}function r(e){return o.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[h(e)]:e}var s,l,c,u=d().maskToken,f=n?i:0,p=n?n.slice():[0],v=[],m=!1,k=n?n.join(""):"";if(t>-1){if(void 0===n){for(var g,y=t-1;void 0===(g=d().validPositions[y]||d().tests[y])&&y>-1;)y--;void 0!==g&&y>-1&&(l=g,c=[],e.isArray(l)||(l=[l]),l.length>0&&(void 0===l[0].alternation?0===(c=h(l.slice()).locator.slice()).length&&(c=l[0].locator.slice()):e.each(l,(function(e,t){if(""!==t.def)if(0===c.length)c=t.locator.slice();else for(var n=0;n<c.length;n++)t.locator[n]&&-1===c[n].toString().indexOf(t.locator[n])&&(c[n]+=","+t.locator[n])}))),k=(p=c).join(""),f=y)}if(d().tests[t]&&d().tests[t][0].cd===k)return r(d().tests[t]);for(var b=p.shift();b<u.length;b++){if(a(u[b],p,[b])&&f===t||f>t)break}}return(0===v.length||m)&&v.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:k}),void 0!==n&&d().tests[t]?r(e.extend(!0,[],v)):(d().tests[t]=e.extend(!0,[],v),r(d().tests[t]))}function b(){return void 0===d()._buffer&&(d()._buffer=u(!1,1),void 0===d().buffer&&d()._buffer.slice()),d()._buffer}function P(e){return void 0!==d().buffer&&!0!==e||(d().buffer=u(!0,p(),!0)),d().buffer}function E(e,t,n){var i;if(!0===e)f(),e=0,t=n.length;else for(i=e;i<t;i++)delete d().validPositions[i];for(i=e;i<t;i++)f(!0),n[i]!==o.skipOptionalPartCharacter&&_(i,n[i],!0,!0)}function C(e,n,i){switch(o.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=d().validPositions[i-1];e=0===i||a&&a.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function w(t,n){for(var i=o.greedy?n:n.slice(0,1),a=!1,r=0;r<t.length;r++)if(-1!==e.inArray(t[r],i)){a=!0;break}return a}function _(n,i,a,r,s){function l(e){var t=q?e.begin-e.end>1||e.begin-e.end==1&&o.insertMode:e.end-e.begin>1||e.end-e.begin==1&&o.insertMode;return t&&0===e.begin&&e.end===d().maskLength?"full":t}function c(t,i,a){var s=!1;return e.each(y(t),(function(c,u){for(var h=u.match,m=i?1:0,g="",y=h.cardinality;y>m;y--)g+=O(t-(y-1));if(i&&(g+=i),P(!0),!1!==(s=null!=h.fn?h.fn.test(g,d(),t,a,o,l(n)):(i===h.def||i===o.skipOptionalPartCharacter)&&""!==h.def&&{c:h.placeholder||h.def,pos:t})){var b=void 0!==s.c?s.c:i;b=b===o.skipOptionalPartCharacter&&null===h.fn?h.placeholder||h.def:b;var w=t,A=P();if(void 0!==s.remove&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort((function(e,t){return t-e})),(function(e,t){v(t,t+1,!0)}))),void 0!==s.insert&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort((function(e,t){return e-t})),(function(e,t){_(t.pos,t.c,!0,r)}))),s.refreshFromBuffer){var x=s.refreshFromBuffer;if(a=!0,E(!0===x?x:x.start,x.end,A),void 0===s.pos&&void 0===s.c)return s.pos=p(),!1;if((w=void 0!==s.pos?s.pos:t)!==t)return s=e.extend(s,_(w,b,!0,r)),!1}else if(!0!==s&&void 0!==s.pos&&s.pos!==t&&(w=s.pos,E(t,w,P().slice()),w!==t))return s=e.extend(s,_(w,b,!0)),!1;return(!0===s||void 0!==s.pos||void 0!==s.c)&&(c>0&&f(!0),k(w,e.extend({},u,{input:C(b,h,w)}),r,l(n))||(s=!1),!1)}})),s}function u(t,n){var i=d().validPositions[n];if(i)for(var a=i.locator,o=a.length,r=t;r<n;r++)if(void 0===d().validPositions[r]&&!A(r,!0)){var s=y(r),l=s[0],c=-1;e.each(s,(function(e,t){for(var n=0;n<o&&void 0!==t.locator[n]&&w(t.locator[n].toString().split(","),a[n].toString().split(","));n++)c<n&&(c=n,l=t)})),k(r,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}function k(t,n,i,a){if(a||o.insertMode&&void 0!==d().validPositions[t]&&void 0===i){var r,s=e.extend(!0,{},d().validPositions),l=p(void 0,!0);for(r=t;r<=l;r++)delete d().validPositions[r];d().validPositions[t]=e.extend(!0,{},n);var c,u=!0,v=d().validPositions,h=!1,m=d().maskLength;for(r=c=t;r<=l;r++){var k=s[r];if(void 0!==k)for(var y=c;y<d().maskLength&&(null===k.match.fn&&v[r]&&(!0===v[r].match.optionalQuantifier||!0===v[r].match.optionality)||null!=k.match.fn);){if(y++,!1===h&&s[y]&&s[y].match.def===k.match.def)d().validPositions[y]=e.extend(!0,{},s[y]),d().validPositions[y].input=k.input,b(y),c=y,u=!0;else if(g(y,k.match.def)){var P=_(y,k.input,!0,!0);u=!1!==P,c=P.caret||P.insert?p():y,h=!0}else u=!0===k.generatedInput;if(d().maskLength<m&&(d().maskLength=m),u)break}if(!u)break}if(!u)return d().validPositions=e.extend(!0,{},s),f(!0),!1}else d().validPositions[t]=e.extend(!0,{},n);return f(!0),!0}function b(t){for(var n=t-1;n>-1&&!d().validPositions[n];n--);var i,a;for(n++;n<t;n++)void 0===d().validPositions[n]&&(!1===o.jitMasking||o.jitMasking>n)&&(""===(a=y(n,m(n-1).locator,n-1).slice())[a.length-1].match.def&&a.pop(),(i=h(a))&&(i.match.def===o.radixPointDefinitionSymbol||!A(n,!0)||e.inArray(o.radixPoint,P())<n&&i.match.fn&&i.match.fn.test(j(n),d(),n,!1,o))&&(!1!==(S=c(n,i.match.placeholder||(null==i.match.fn?i.match.def:""!==j(n)?j(n):P()[n]),!0))&&(d().validPositions[S.pos||n].generatedInput=!0)))}a=!0===a;var M=n;void 0!==n.begin&&(M=q&&!l(n)?n.end:n.begin);var S=!1,D=e.extend(!0,{},d().validPositions);if(b(M),l(n)&&(F(void 0,t.keyCode.DELETE,n),M=d().p),M<d().maskLength&&(S=c(M,i,a),(!a||!0===r)&&!1===S)){var T=d().validPositions[M];if(!T||null!==T.match.fn||T.match.def!==i&&i!==o.skipOptionalPartCharacter){if((o.insertMode||void 0===d().validPositions[x(M)])&&!A(M,!0)){var I=y(M).slice();""===I[I.length-1].match.def&&I.pop();var G=h(I,!0);G&&null===G.match.fn&&(c(M,G=G.match.placeholder||G.match.def,a),d().validPositions[M].generatedInput=!0);for(var L=M+1,B=x(M);L<=B;L++)if(!1!==(S=c(L,i,a))){u(M,void 0!==S.pos?S.pos:L),M=L;break}}}else S={caret:x(M)}}return!1===S&&o.keepStatic&&!a&&!0!==s&&(S=function(t,n,i){var a,s,l,c,u,v,h,m,k=e.extend(!0,{},d().validPositions),g=!1,b=p();for(c=d().validPositions[b];b>=0;b--)if((l=d().validPositions[b])&&void 0!==l.alternation){if(a=b,s=d().validPositions[a].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==s){m=parseInt(a);var P=void 0!==c.locator[c.alternation||s]?c.locator[c.alternation||s]:h[0];P.length>0&&(P=P.split(",")[0]);var E=d().validPositions[m],C=d().validPositions[m-1];e.each(y(m,C?C.locator:void 0,m-1),(function(a,l){h=l.locator[s]?l.locator[s].toString().split(","):[];for(var c=0;c<h.length;c++){var y=[],b=0,C=0,w=!1;if(P<h[c]&&(void 0===l.na||-1===e.inArray(h[c],l.na.split(",")))){d().validPositions[m]=e.extend(!0,{},l);var A=d().validPositions[m].locator;for(d().validPositions[m].locator[s]=parseInt(h[c]),null==l.match.fn?(E.input!==l.match.def&&(w=!0,!0!==E.generatedInput&&y.push(E.input)),C++,d().validPositions[m].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),d().validPositions[m].input=l.match.def):d().validPositions[m].input=E.input,u=m+1;u<p(void 0,!0)+1;u++)(v=d().validPositions[u])&&!0!==v.generatedInput&&/[0-9a-bA-Z]/.test(v.input)?y.push(v.input):u<t&&b++,delete d().validPositions[u];for(w&&y[0]===l.match.def&&y.shift(),f(!0),g=!0;y.length>0;){var x=y.shift();if(x!==o.skipOptionalPartCharacter&&!(g=_(p(void 0,!0)+1,x,!1,r,!0)))break}if(g){d().validPositions[m].locator=A;var M=p(t)+1;for(u=m+1;u<p()+1;u++)(void 0===(v=d().validPositions[u])||null==v.match.fn)&&u<t+(C-b)&&C++;g=_((t+=C-b)>M?M:t,n,i,r,!0)}if(g)return!1;f(),d().validPositions=e.extend(!0,{},k)}}}))}return g}(M,i,a)),!0===S&&(S={pos:M}),e.isFunction(o.postValidation)&&!1!==S&&!a&&!0!==r&&(S=!!o.postValidation(P(!0),S,o)&&S),void 0===S.pos&&(S.pos=M),!1===S&&(f(!0),d().validPositions=e.extend(!0,{},D)),S}function A(e,t){var n;if(t?""===(n=m(e).match).def&&(n=k(e).match):n=k(e).match,null!=n.fn)return n.fn;if(!0!==t&&e>-1){var i=y(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function x(e,t){var n=d().maskLength;if(e>=n)return n;for(var i=e;++i<n&&(!0===t&&(!0!==k(i).match.newBlockMarker||!A(i))||!0!==t&&!A(i)););return i}function M(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(!0===t&&!0!==k(i).match.newBlockMarker||!0!==t&&!A(i)&&((n=y(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function O(e){return void 0===d().validPositions[e]?j(e):d().validPositions[e].input}function S(t,n,i,a,r){if(a&&e.isFunction(o.onBeforeWrite)){var s=o.onBeforeWrite(a,n,i,o);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;E(!0===l?l:l.start,l.end,s.buffer||n),n=P(!0)}void 0!==i&&(i=void 0!==s.caret?s.caret:i)}}t.inputmask._valueSet(n.join("")),void 0===i||void 0!==a&&"blur"===a.type?R(t,n,i):I(t,i),!0===r&&(Z=!0,e(t).trigger("input"))}function j(e,t){if(void 0!==(t=t||k(e).match).placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===d().validPositions[e]){var n,i=y(e),a=[];if(i.length>1+(""===i[i.length-1].match.def?1:0))for(var r=0;r<i.length;r++)if(!0!==i[r].match.optionality&&!0!==i[r].match.optionalQuantifier&&(null===i[r].match.fn||void 0===n||!1!==i[r].match.fn.test(n.match.def,d(),e,!0,o))&&(a.push(i[r]),null===i[r].match.fn&&(n=i[r]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return o.placeholder.charAt(e%o.placeholder.length)}return t.def}return o.placeholder.charAt(e%o.placeholder.length)}function D(n,i,a,r,s,l){var c=r.slice(),u="",v=0,h=void 0;if(f(),d().p=x(-1),!a)if(!0!==o.autoUnmask){var k=b().slice(0,x(-1)).join(""),g=c.join("").match(new RegExp("^"+t.escapeRegex(k),"g"));g&&g.length>0&&(c.splice(0,g.length*k.length),v=x(v))}else v=x(v);if(e.each(c,(function(t,i){if(void 0!==i){var r=new e.Event("keypress");r.which=i.charCodeAt(0),u+=i;var s=p(void 0,!0),l=d().validPositions[s],c=m(s+1,l?l.locator.slice():void 0,s);if(!function(){var e=!1,t=b().slice(v,x(v)).join("").indexOf(u);if(-1!==t&&!A(v)){e=!0;for(var n=b().slice(v,v+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}}return e}()||a||o.autoUnmask){var k=a?t:null==c.match.fn&&c.match.optionality&&s+1<d().p?s+1:d().p;h=Y.keypressEvent.call(n,r,!0,!1,a,k),v=k+1,u=""}else h=Y.keypressEvent.call(n,r,!0,!1,!0,s+1);if(!a&&e.isFunction(o.onBeforeWrite)&&((h=o.onBeforeWrite(r,P(),h.forwardPosition,o))&&h.refreshFromBuffer)){var g=h.refreshFromBuffer;E(!0===g?g:g.start,g.end,h.buffer),f(!0),h.caret&&(d().p=h.caret)}}})),i){var y=void 0,C=p();document.activeElement===n&&(s||h)&&(y=I(n).begin,s&&!1===h&&(y=x(p(y))),h&&!0!==l&&(y<C+1||-1===C)&&(y=o.numericInput&&void 0===h.caret?M(h.forwardPosition):h.forwardPosition)),S(n,P(),y,s||new e.Event("checkval"))}}function T(t){if(t&&void 0===t.inputmask)return t.value;var n=[],i=d().validPositions;for(var a in i)i[a].match&&null!=i[a].match.fn&&n.push(i[a].input);var r=0===n.length?"":(q?n.reverse():n).join("");if(e.isFunction(o.onUnMask)){var s=(q?P().slice().reverse():P()).join("");r=o.onUnMask(s,r,o)||r}return r}function I(e,t,n,i){function a(e){!0===i||!q||"number"!=typeof e||o.greedy&&""===o.placeholder||(e=P().join("").length-e);return e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,n=s.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(s=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+s.text.length),{begin:a(t),end:a(n)};t=a(t),n="number"==typeof(n=a(n))?n:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=l>e.scrollWidth?l:0,r||!1!==o.insertMode||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),s.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}else e.createTextRange&&((s=e.createTextRange()).collapse(!0),s.moveEnd("character",n),s.moveStart("character",t),s.select());R(e,void 0,{begin:t,end:n})}function G(t){var n,i,a=P(),o=a.length,r=p(),s={},l=d().validPositions[r],c=void 0!==l?l.locator.slice():void 0;for(n=r+1;n<a.length;n++)c=(i=m(n,c,n-1)).locator.slice(),s[n]=e.extend(!0,{},i);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=o-1;n>r&&(((i=s[n]).match.optionality||i.match.optionalQuantifier||u&&(u!==s[n].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&w(i.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==y(n)[0].def))&&a[n]===j(n,i.match));n--)o--;return t?{l:o,def:s[o]?s[o].match:void 0}:o}function L(e){for(var t=G(),n=e.length-1;n>t&&!A(n);n--);return e.splice(t,n+1-t),e}function B(t){if(e.isFunction(o.isComplete))return o.isComplete(t,o);if("*"!==o.repeat){var n=!1,i=G(!0),a=M(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var r=0;r<=a;r++){var s=m(r).match;if(null!==s.fn&&void 0===d().validPositions[r]&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[r]!==j(r,s)){n=!1;break}}}return n}}function F(n,i,a,r){if((o.numericInput||q)&&(i===t.keyCode.BACKSPACE?i=t.keyCode.DELETE:i===t.keyCode.DELETE&&(i=t.keyCode.BACKSPACE),q)){var s=a.end;a.end=a.begin,a.begin=s}i===t.keyCode.BACKSPACE&&(a.end-a.begin<1||!1===o.insertMode)?(a.begin=M(a.begin),void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==o.groupSeparator&&d().validPositions[a.begin].input!==o.radixPoint||a.begin--):i===t.keyCode.DELETE&&a.begin===a.end&&(a.end=A(a.end,!0)?a.end+1:x(a.end)+1,void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==o.groupSeparator&&d().validPositions[a.begin].input!==o.radixPoint||a.end++),v(a.begin,a.end,!1,r),!0!==r&&function(){if(o.keepStatic){for(var t=[],i=p(-1,!0),a=e.extend(!0,{},d().validPositions),r=d().validPositions[i];i>=0;i--){var s=d().validPositions[i];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete d().validPositions[i],void 0!==s.alternation&&s.locator[s.alternation]!==r.locator[s.alternation])break;r=s}}if(i>-1)for(d().p=x(p(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),Y.keypressEvent.call(n,l,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},a)}}();var l=p(a.begin,!0);l<a.begin?d().p=x(l):!0!==r&&(d().p=a.begin)}function N(t){function n(){W.style.position="absolute",W.style.top=i.top+"px",W.style.left=i.left+"px",W.style.width=parseInt(t.offsetWidth)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth)+"px",W.style.height=parseInt(t.offsetHeight)-parseInt(a.paddingTop)-parseInt(a.paddingBottom)-parseInt(a.borderTopWidth)-parseInt(a.borderBottomWidth)+"px",W.style.lineHeight=W.style.height,W.style.zIndex=isNaN(a.zIndex)?-1:a.zIndex-1,W.style.webkitAppearance="textfield",W.style.mozAppearance="textfield",W.style.Appearance="textfield"}var i=e(t).position(),a=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);for(var r in t.parentNode,W=document.createElement("div"),document.body.appendChild(W),a)isNaN(r)&&"cssText"!==r&&-1==r.indexOf("webkit")&&(W.style[r]=a[r]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",n(),e(window).on("resize",(function(o){i=e(t).position(),a=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),n()})),e(t).on("click",(function(e){return I(t,function(e){var n,i=document.createElement("span");for(var o in a)isNaN(o)&&-1!==o.indexOf("font")&&(i.style[o]=a[o]);i.style.textTransform=a.textTransform,i.style.letterSpacing=a.letterSpacing,i.style.position="absolute",i.style.height="auto",i.style.width="auto",i.style.visibility="hidden",i.style.whiteSpace="nowrap",document.body.appendChild(i);var r,s=t.inputmask._valueGet(),l=0;for(n=0,r=s.length;n<=r;n++){if(i.innerHTML+=s.charAt(n)||"_",i.offsetWidth>=e){var c=e-l,u=i.offsetWidth-e;i.innerHTML=s.charAt(n),n=(c-=i.offsetWidth/3)<u?n-1:n;break}l=i.offsetWidth}return document.body.removeChild(i),n}(e.clientX)),Y.clickEvent.call(this,[e])})),e(t).on("keydown",(function(e){e.shiftKey||!1===o.insertMode||setTimeout((function(){R(t)}),0)}))}function R(e,t,n){function i(){r||null!==l.fn&&void 0!==c.input?r&&null!==l.fn&&void 0!==c.input&&(r=!1,a+="</span>"):(r=!0,a+="<span class='im-static''>")}if(void 0!==W){t=t||P(),void 0===n?n=I(e):void 0===n.begin&&(n={begin:n,end:n});var a="",r=!1;if(""!=t){var s,l,c,u=0,f=p();do{u===n.begin&&document.activeElement===e&&(a+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),d().validPositions[u]?(c=d().validPositions[u],l=c.match,s=c.locator.slice(),i(),a+=c.input):(c=m(u,s,u-1),l=c.match,s=c.locator.slice(),(!1===o.jitMasking||u<f||"number"==typeof o.jitMasking&&isFinite(o.jitMasking)&&o.jitMasking>u)&&(i(),a+=j(u,l))),u++}while((void 0===U||u<U)&&(null!==l.fn||""!==l.def)||f>u)}W.innerHTML=a}}i=i||this.maskset,o=o||this.opts;var K,H,U,W,V,Q=this.el,q=this.isRTL,z=!1,Z=!1,X=!1,$=!1,J={on:function(n,i,a){var r=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var i=e.data(this,"_inputmask_opts");i?new t(i).mask(this):J.off(this)}else{if("setvalue"===n.type||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||!1===o.tabThrough&&n.keyCode===t.keyCode.TAB))){switch(n.type){case"input":if(!0===Z)return Z=!1,n.preventDefault();break;case"keydown":z=!1,Z=!1;break;case"keypress":if(!0===z)return n.preventDefault();z=!0;break;case"click":if(s||l){var r=this,c=arguments;return setTimeout((function(){a.apply(r,c)}),0),!1}}var u=a.apply(this,arguments);return!1===u&&(n.preventDefault(),n.stopPropagation()),u}n.preventDefault()}};n.inputmask.events[i]=n.inputmask.events[i]||[],n.inputmask.events[i].push(r),-1!==e.inArray(i,["submit","reset"])?null!=n.form&&e(n.form).on(i,r):e(n).on(i,r)},off:function(t,n){var i;t.inputmask&&t.inputmask.events&&(n?(i=[])[n]=t.inputmask.events[n]:i=t.inputmask.events,e.each(i,(function(n,i){for(;i.length>0;){var a=i.pop();-1!==e.inArray(n,["submit","reset"])?null!=t.form&&e(t.form).off(n,a):e(t).off(n,a)}delete t.inputmask.events[n]})))}},Y={keydownEvent:function(n){var i=this,a=e(i),r=n.keyCode,s=I(i);if(r===t.keyCode.BACKSPACE||r===t.keyCode.DELETE||l&&r===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&r===t.keyCode.X&&!function(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}("cut"))n.preventDefault(),F(i,r,s),S(i,P(!0),d().p,n,i.inputmask._valueGet()!==P().join("")),i.inputmask._valueGet()===b().join("")?a.trigger("cleared"):!0===B(P())&&a.trigger("complete");else if(r===t.keyCode.END||r===t.keyCode.PAGE_DOWN){n.preventDefault();var c=x(p());o.insertMode||c!==d().maskLength||n.shiftKey||c--,I(i,n.shiftKey?s.begin:c,c,!0)}else r===t.keyCode.HOME&&!n.shiftKey||r===t.keyCode.PAGE_UP?(n.preventDefault(),I(i,0,n.shiftKey?s.begin:0,!0)):(o.undoOnEscape&&r===t.keyCode.ESCAPE||90===r&&n.ctrlKey)&&!0!==n.altKey?(D(i,!0,!1,K.split("")),a.trigger("click")):r!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?!0===o.tabThrough&&r===t.keyCode.TAB?(!0===n.shiftKey?(null===k(s.begin).match.fn&&(s.begin=x(s.begin)),s.end=M(s.begin,!0),s.begin=M(s.end,!0)):(s.begin=x(s.begin,!0),s.end=x(s.begin,!0),s.end<d().maskLength&&s.end--),s.begin<d().maskLength&&(n.preventDefault(),I(i,s.begin,s.end))):n.shiftKey||!1===o.insertMode&&(r===t.keyCode.RIGHT?setTimeout((function(){var e=I(i);I(i,e.begin)}),0):r===t.keyCode.LEFT&&setTimeout((function(){var e=I(i);I(i,q?e.begin+1:e.begin-1)}),0)):(o.insertMode=!o.insertMode,I(i,o.insertMode||s.begin!==d().maskLength?s.begin:s.begin-1));o.onKeyDown.call(this,n,P(),I(i).begin,o),X=-1!==e.inArray(r,o.ignorables)},keypressEvent:function(n,i,a,r,s){var l=this,c=e(l),u=n.which||n.charCode||n.keyCode;if(!(!0===i||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||X))return u===t.keyCode.ENTER&&K!==P().join("")&&(K=P().join(""),setTimeout((function(){c.trigger("change")}),0)),!0;if(u){46===u&&!1===n.shiftKey&&","===o.radixPoint&&(u=44);var p,v=i?{begin:s,end:s}:I(l),h=String.fromCharCode(u);d().writeOutBuffer=!0;var m=_(v,h,r);if(!1!==m&&(f(!0),p=void 0!==m.caret?m.caret:i?m.pos+1:x(m.pos),d().p=p),!1!==a){var k=this;if(setTimeout((function(){o.onKeyValidation.call(k,u,m,o)}),0),d().writeOutBuffer&&!1!==m){var g=P();S(l,g,o.numericInput&&void 0===m.caret?M(p):p,n,!0!==i),!0!==i&&setTimeout((function(){!0===B(g)&&c.trigger("complete")}),0)}}if(n.preventDefault(),i)return m.forwardPosition=p,m}},pasteEvent:function(t){var n,i=this,a=t.originalEvent||t,r=e(i),s=i.inputmask._valueGet(!0),l=I(i);q&&(n=l.end,l.end=l.begin,l.begin=n);var c=s.substr(0,l.begin),u=s.substr(l.end,s.length);if(c===(q?b().reverse():b()).slice(0,l.begin).join("")&&(c=""),u===(q?b().reverse():b()).slice(l.end).join("")&&(u=""),q&&(n=c,c=u,u=n),window.clipboardData&&window.clipboardData.getData)s=c+window.clipboardData.getData("Text")+u;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;s=c+a.clipboardData.getData("text/plain")+u}var d=s;if(e.isFunction(o.onBeforePaste)){if(!1===(d=o.onBeforePaste(s,o)))return t.preventDefault();d||(d=s)}return D(i,!1,!1,q?d.split("").reverse():d.toString().split("")),S(i,P(),x(p()),t,K!==P().join("")),!0===B(P())&&r.trigger("complete"),t.preventDefault()},inputFallBackEvent:function(n){var i=this,a=i.inputmask._valueGet();if(P().join("")!==a){var o=I(i);if(a=a.replace(new RegExp("("+t.escapeRegex(b().join(""))+")*"),""),s){var r=a.replace(P().join(""),"");if(1===r.length){var l=new e.Event("keypress");return l.which=r.charCodeAt(0),Y.keypressEvent.call(i,l,!0,!0,!1,d().validPositions[o.begin-1]?o.begin:o.begin-1),!1}}if(o.begin>a.length&&(I(i,a.length),o=I(i)),P().length-a.length!=1||a.charAt(o.begin)===P()[o.begin]||a.charAt(o.begin+1)===P()[o.begin]||A(o.begin)){for(var c=p()+1,u=b().join("");null===a.match(t.escapeRegex(u)+"$");)u=u.slice(1);D(i,!0,!1,a=(a=a.replace(u,"")).split(""),n,o.begin<c),!0===B(P())&&e(i).trigger("complete")}else n.keyCode=t.keyCode.BACKSPACE,Y.keydownEvent.call(i,n);n.preventDefault()}},setValueEvent:function(t){var n=this,i=n.inputmask._valueGet();D(n,!0,!1,(e.isFunction(o.onBeforeMask)&&o.onBeforeMask(i,o)||i).split("")),K=P().join(""),(o.clearMaskOnLostFocus||o.clearIncomplete)&&n.inputmask._valueGet()===b().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();o.showMaskOnFocus&&(!o.showMaskOnHover||o.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==P().join("")?S(t,P(),x(p())):!1===$&&I(t,x(p()))),!0===o.positionCaretOnTab&&Y.clickEvent.apply(t,[e,!0]),K=P().join("")},mouseleaveEvent:function(e){var t=this;if($=!1,o.clearMaskOnLostFocus&&document.activeElement!==t){var n=P().slice(),i=t.inputmask._valueGet();i!==t.getAttribute("placeholder")&&""!==i&&(-1===p()&&i===b().join("")?n=[]:L(n),S(t,n))}},clickEvent:function(t,n){var i=this;setTimeout((function(){if(document.activeElement===i){var t=I(i);if(n&&(t.begin=t.end),t.begin===t.end)switch(o.positionCaretOnClick){case"none":break;case"radixFocus":if(function(t){if(""!==o.radixPoint){var n=d().validPositions;if(void 0===n[t]||n[t].input===j(t)){if(t<x(-1))return!0;var i=e.inArray(o.radixPoint,P());if(-1!==i){for(var a in n)if(i<a&&n[a].input!==j(a))return!1;return!0}}}return!1}(t.begin)){var a=e.inArray(o.radixPoint,P().join(""));I(i,o.numericInput?x(a):a);break}default:var r=t.begin,s=x(p(r,!0));if(r<s)I(i,A(r)||A(r-1)?r:x(r));else{var l=j(s);(""!==l&&P()[s]!==l&&!0!==k(s).match.optionalQuantifier||!A(s)&&k(s).match.def===l)&&(s=x(s)),I(i,s)}}}}),0)},dblclickEvent:function(e){var t=this;setTimeout((function(){I(t,0,x(p()))}),0)},cutEvent:function(n){var i=this,a=e(i),o=I(i),r=n.originalEvent||n,s=window.clipboardData||r.clipboardData,l=q?P().slice(o.end,o.begin):P().slice(o.begin,o.end);s.setData("text",q?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),F(i,t.keyCode.DELETE,o),S(i,P(),d().p,n,K!==P().join("")),i.inputmask._valueGet()===b().join("")&&a.trigger("cleared")},blurEvent:function(t){var n=e(this),i=this;if(i.inputmask){var a=i.inputmask._valueGet(),r=P().slice();K!==r.join("")&&setTimeout((function(){n.trigger("change"),K=r.join("")}),0),""!==a&&(o.clearMaskOnLostFocus&&(-1===p()&&a===b().join("")?r=[]:L(r)),!1===B(r)&&(setTimeout((function(){n.trigger("incomplete")}),0),o.clearIncomplete&&(f(),r=o.clearMaskOnLostFocus?[]:b().slice())),S(i,r,void 0,t))}},mouseenterEvent:function(e){var t=this;$=!0,document.activeElement!==t&&o.showMaskOnHover&&t.inputmask._valueGet()!==P().join("")&&S(t,P())},submitEvent:function(e){K!==P().join("")&&H.trigger("change"),o.clearMaskOnLostFocus&&-1===p()&&Q.inputmask._valueGet&&Q.inputmask._valueGet()===b().join("")&&Q.inputmask._valueSet(""),o.removeMaskOnSubmit&&(Q.inputmask._valueSet(Q.inputmask.unmaskedvalue(),!0),setTimeout((function(){S(Q,P())}),0))},resetEvent:function(e){setTimeout((function(){H.trigger("setvalue")}),0)}};if(void 0!==n)switch(n.action){case"isComplete":return Q=n.el,B(P());case"unmaskedvalue":return void 0!==Q&&void 0===n.value||(V=n.value,V=(e.isFunction(o.onBeforeMask)&&o.onBeforeMask(V,o)||V).split(""),D(void 0,!1,!1,q?V.reverse():V),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o)),T(Q);case"mask":!function(t){var n=function(t,n){var i=t.getAttribute("type"),a="INPUT"===t.tagName&&-1!==e.inArray(i,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!a)if("INPUT"===t.tagName){var o=document.createElement("input");o.setAttribute("type",i),a="text"===o.type,o=null}else a="partial";return!1!==a&&function(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==p()||!0!==n.nullable?document.activeElement===this&&n.clearMaskOnLostFocus?(q?L(P().slice()).reverse():L(P().slice())).join(""):o.call(this):"":o.call(this)}function a(t){r.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var o,r;if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var s=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;s&&s.get&&s.set?(o=s.get,r=s.set,Object.defineProperty(t,"value",{get:i,set:a,configurable:!0})):"INPUT"!==t.tagName&&(o=function(){return this.textContent},r=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:a,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(o=t.__lookupGetter__("value"),r=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",a));t.inputmask.__valueGet=o,t.inputmask.__valueSet=r}t.inputmask._valueGet=function(e){return q&&!0!==e?o.call(this.el).split("").reverse().join(""):o.call(this.el)},t.inputmask._valueSet=function(e,t){r.call(this.el,null==e?"":!0!==t&&q?e.split("").reverse().join(""):e)},void 0===o&&(o=function(){return this.value},r=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==p(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==n.nullable?t:""}return i(e)},set:function(t,n){var i,o=e(t);return i=a(t,n),t.inputmask&&o.trigger("setvalue"),i},inputmaskpatch:!0}}}(t.type),function(t){J.on(t,"mouseenter",(function(t){var n=e(this);this.inputmask._valueGet()!==P().join("")&&n.trigger("setvalue")}))}(t))}}(t),a}(t,o);if(!1!==n&&(H=e(Q=t),("rtl"===Q.dir||o.rightAlign)&&(Q.style.textAlign="right"),("rtl"===Q.dir||o.numericInput)&&(Q.dir="ltr",Q.removeAttribute("dir"),Q.inputmask.isRTL=!0,q=!0),!0===o.colorMask&&N(Q),c&&(Q.hasOwnProperty("inputmode")&&(Q.inputmode=o.inputmode,Q.setAttribute("inputmode",o.inputmode)),"rtfm"===o.androidHack&&(!0!==o.colorMask&&N(Q),Q.type="password")),J.off(Q),!0===n&&(J.on(Q,"submit",Y.submitEvent),J.on(Q,"reset",Y.resetEvent),J.on(Q,"mouseenter",Y.mouseenterEvent),J.on(Q,"blur",Y.blurEvent),J.on(Q,"focus",Y.focusEvent),J.on(Q,"mouseleave",Y.mouseleaveEvent),!0!==o.colorMask&&J.on(Q,"click",Y.clickEvent),J.on(Q,"dblclick",Y.dblclickEvent),J.on(Q,"paste",Y.pasteEvent),J.on(Q,"dragdrop",Y.pasteEvent),J.on(Q,"drop",Y.pasteEvent),J.on(Q,"cut",Y.cutEvent),J.on(Q,"complete",o.oncomplete),J.on(Q,"incomplete",o.onincomplete),J.on(Q,"cleared",o.oncleared),!0!==o.inputEventOnly&&(J.on(Q,"keydown",Y.keydownEvent),J.on(Q,"keypress",Y.keypressEvent)),J.on(Q,"compositionstart",e.noop),J.on(Q,"compositionupdate",e.noop),J.on(Q,"compositionend",e.noop),J.on(Q,"keyup",e.noop),J.on(Q,"input",Y.inputFallBackEvent)),J.on(Q,"setvalue",Y.setValueEvent),b(),""!==Q.inputmask._valueGet()||!1===o.clearMaskOnLostFocus||document.activeElement===Q)){var i=e.isFunction(o.onBeforeMask)&&o.onBeforeMask(Q.inputmask._valueGet(),o)||Q.inputmask._valueGet();D(Q,!0,!1,i.split(""));var a=P().slice();K=a.join(""),!1===B(a)&&o.clearIncomplete&&f(),o.clearMaskOnLostFocus&&document.activeElement!==Q&&(-1===p()?a=[]:L(a)),S(Q,a),document.activeElement===Q&&I(Q,x(p()))}}(Q);break;case"format":return V=(e.isFunction(o.onBeforeMask)&&o.onBeforeMask(n.value,o)||n.value).split(""),D(void 0,!1,!1,q?V.reverse():V),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o),n.metadata?{value:q?P().slice().reverse().join(""):P().join(""),metadata:a.call(this,{action:"getmetadata"},i,o)}:q?P().slice().reverse().join(""):P().join("");case"isValid":n.value?(V=n.value.split(""),D(void 0,!1,!0,q?V.reverse():V)):n.value=P().join("");for(var ee=P(),te=G(),ne=ee.length-1;ne>te&&!A(ne);ne--);return ee.splice(te,ne+1-te),B(ee)&&n.value===P().join("");case"getemptymask":return b().join("");case"remove":if(Q)H=e(Q),Q.inputmask._valueSet(T(Q)),J.off(Q),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Q),"value")&&Q.inputmask.__valueGet&&Object.defineProperty(Q,"value",{get:Q.inputmask.__valueGet,set:Q.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&Q.__lookupGetter__("value")&&Q.inputmask.__valueGet&&(Q.__defineGetter__("value",Q.inputmask.__valueGet),Q.__defineSetter__("value",Q.inputmask.__valueSet)),Q.inputmask=void 0;return Q;case"getmetadata":if(e.isArray(i.metadata)){var ie=u(!0,0,!1).join("");return e.each(i.metadata,(function(e,t){if(t.mask===ie)return ie=t,!1})),ie}return i.metadata}}var o=navigator.userAgent,r=/mobile/i.test(o),s=/iemobile/i.test(o),l=/iphone/i.test(o)&&!s,c=/android/i.test(o)&&!s;return t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask(t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},masksCache:{},mask:function(o){var r=this;return"string"==typeof o&&(o=document.getElementById(o)||document.querySelectorAll(o)),o=o.nodeName?[o]:o,e.each(o,(function(o,s){var l=e.extend(!0,{},r.opts);!function(t,i,a,o){function r(e,n){null!==(n=void 0!==n?n:t.getAttribute(o+"-"+e))&&("string"==typeof n&&(0===e.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),a[e]=n)}var s,l,c,u,d=t.getAttribute(o);if(d&&""!==d&&(d=d.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+d+"}")),l)for(u in c=void 0,l)if("alias"===u.toLowerCase()){c=l[u];break}for(s in r("alias",c),a.alias&&n(a.alias,a,i),i){if(l)for(u in c=void 0,l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}r(s,c)}e.extend(!0,i,a)}(s,l,e.extend(!0,{},r.userOptions),r.dataAttribute);var c=i(l,r.noMasksCache);void 0!==c&&(void 0!==s.inputmask&&s.inputmask.remove(),s.inputmask=new t,s.inputmask.opts=l,s.inputmask.noMasksCache=r.noMasksCache,s.inputmask.userOptions=e.extend(!0,{},r.userOptions),s.inputmask.el=s,s.inputmask.maskset=c,e.data(s,"_inputmask_opts",l),a.call(s.inputmask,{action:"mask"}))})),o&&o[0]&&o[0].inputmask||this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return a.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,n){function i(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function a(t,i,a){var o=n.definitions[i];a=void 0!==a?a:t.matches.length;var r=t.matches[a-1];if(o&&!v){o.placeholder=e.isFunction(o.placeholder)?o.placeholder(n):o.placeholder;for(var s=o.prevalidator,l=s?s.length:0,c=1;c<o.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,f=u.cardinality;t.matches.splice(a++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f||1,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||i),casing:o.casing,def:o.definitionSymbol||i,placeholder:o.placeholder,nativeDef:i}),r=t.matches[a-1]}t.matches.splice(a++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||i),casing:o.casing,def:o.definitionSymbol||i,placeholder:o.placeholder,nativeDef:i})}else t.matches.splice(a++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==i,casing:null,def:n.staticDefinitionSymbol||i,placeholder:void 0!==n.staticDefinitionSymbol?i:void 0,nativeDef:i}),v=!1}function o(){if(m.length>0){if(a(c=m[m.length-1],s),c.isAlternator){u=m.pop();for(var e=0;e<u.matches.length;e++)u.matches[e].isGroup=!1;m.length>0?(c=m[m.length-1]).matches.push(u):h.matches.push(u)}}else a(h,s)}for(var r,s,l,c,u,d,f,p=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,h=new i,m=[],k=[];r=p.exec(t);)if(s=r[0],v)o();else switch(s.charAt(0)){case n.escapeChar:v=!0;break;case n.optionalmarker.end:case n.groupmarker.end:if((l=m.pop()).openGroup=!1,void 0!==l)if(m.length>0){if((c=m[m.length-1]).matches.push(l),c.isAlternator){u=m.pop();for(var g=0;g<u.matches.length;g++)u.matches[g].isGroup=!1;m.length>0?(c=m[m.length-1]).matches.push(u):h.matches.push(u)}}else h.matches.push(l);else o();break;case n.optionalmarker.start:m.push(new i(!1,!0));break;case n.groupmarker.start:m.push(new i(!0));break;case n.quantifiermarker.start:var y=new i(!1,!1,!0),b=(s=s.replace(/[{}]/g,"")).split(","),P=isNaN(b[0])?b[0]:parseInt(b[0]),E=1===b.length?P:isNaN(b[1])?b[1]:parseInt(b[1]);if("*"!==E&&"+"!==E||(P="*"===E?0:1),y.quantifier={min:P,max:E},m.length>0){var C=m[m.length-1].matches;(r=C.pop()).isGroup||((f=new i(!0)).matches.push(r),r=f),C.push(r),C.push(y)}else(r=h.matches.pop()).isGroup||((f=new i(!0)).matches.push(r),r=f),h.matches.push(r),h.matches.push(y);break;case n.alternatormarker:m.length>0?d=(c=m[m.length-1]).matches.pop():d=h.matches.pop(),d.isAlternator?m.push(d):((u=new i(!1,!1,!1,!0)).matches.push(d),m.push(u));break;default:o()}for(;m.length>0;)l=m.pop(),h.matches.push(l);return h.matches.length>0&&(function t(i){i&&i.matches&&e.each(i.matches,(function(e,o){var r=i.matches[e+1];(void 0===r||void 0===r.matches||!1===r.isQuantifier)&&o&&o.isGroup&&(o.isGroup=!1,a(o,n.groupmarker.start,0),!0!==o.openGroup&&a(o,n.groupmarker.end)),t(o)}))}(h),k.push(h)),n.numericInput&&function e(t){for(var i in t.matches=t.matches.reverse(),t.matches){var a=parseInt(i);if(t.matches[i].isQuantifier&&t.matches[a+1]&&t.matches[a+1].isGroup){var o=t.matches[i];t.matches.splice(i,1),t.matches.splice(a+1,0,o)}void 0!==t.matches[i].matches?t.matches[i]=e(t.matches[i]):t.matches[i]=((r=t.matches[i])===n.optionalmarker.start?r=n.optionalmarker.end:r===n.optionalmarker.end?r=n.optionalmarker.start:r===n.groupmarker.start?r=n.groupmarker.end:r===n.groupmarker.end&&(r=n.groupmarker.start),r)}var r;return t}(k[0]),k}},t.extendDefaults=function(n){e.extend(!0,t.prototype.defaults,n)},t.extendDefinitions=function(n){e.extend(!0,t.prototype.defaults.definitions,n)},t.extendAliases=function(n){e.extend(!0,t.prototype.defaults.aliases,n)},t.format=function(e,n,i){return t(n).format(e,i)},t.unmask=function(e,n){return t(n).unmaskedvalue(e)},t.isValid=function(e,n){return t(n).isValid(e)},t.remove=function(t){e.each(t,(function(e,t){t.inputmask&&t.inputmask.remove()}))},t.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=t,t}));